<!DOCTYPE html>
<html>
<head>
  <title>RadioSonde (version %VERSION_ID%)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="data:,">
  <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body style="background-color: #008CBA;">
<div style="background-color: #FFFFFF;">
<h2><i onclick="w3_open()" class="fa fa-bars"></i>&nbsp;&nbsp;RadioSonde (version %VERSION_ID%)</h2>
</div>
<!--
  <p>GPIO state: <strong> %STATE%</strong></p>
  <p><a href="/on"><button class="button">ON</button></a></p>
  <p><a href="/off"><button class="button button2">OFF</button></a></p>
-->

<!-- Side Navigation -->
<nav style="text-align: left; background-color: #aaa; font-weight: bold; display:none" id="mySidebar">
  <h3>MENU</h3>
	  <button class="tablinks fa fa-close" onclick="w3_close();"> Close</button><br>
	  <button class="tablinks fa fa-dashboard" onclick="selTab(event,'QRG'); w3_close()" id="defaultTab"> QRG</button><br>
	  <button class="tablinks fa fa-wifi" onclick="selTab(event,'WiFi'); w3_close()"> WiFi</button><br>
	  <button class="tablinks fa fa-database" onclick="selTab(event,'Data'); w3_close()"> Data</button><br>
	  <button class="tablinks fa fa-map-marker" onclick="selTab(event,'SondeMap'); w3_close()"> URL SondeMap</button><br>
	  <button class="tablinks fa fa-gears" onclick="selTab(event,'Config'); w3_close()"> Config</button><br>
	  <button class="tablinks fa fa-sliders" onclick="selTab(event,'Control'); w3_close()"> Control</button><br>
	  <button class="tablinks fa fa-download" onclick="selTab(event,'Update'); w3_close()"> Update</button><br>
	  <button class="tablinks fa fa-file" onclick="selTab(event,'Telemetry'); w3_close()"> Telemetry</button><br>
	  <button class="tablinks fa fa-support" onclick="selTab(event,'About'); w3_close()"> About</button><br><br><br><br>
</nav>

<div id="QRG" class="tabcontent">
	<h3> QRG - Setup</h3>
	<iframe src="qrg.html" style="border:none;" width="100%%" height="100%%"></iframe>
</div>

<div id="WiFi" class="tabcontent">
	<h3> WiFi - Settings</h3>
	<iframe src="wifi.html" style="border:none;" width="100%%" height="100%%"></iframe>
</div>

<div id="Data" class="tabcontent" data-src="status.html">
	<h3>Data</h3>
	<iframe src="status.html" style="border:none;" width="100%%" height="100%%"></iframe>
</div>

<div id="SondeMap" class="tabcontent" data-src="sondemap.html">
	<iframe src="sondemap.html" style="border:none;" width="98%%" height="98%%"></iframe>
</div>

<div id="Config" class="tabcontent">
	<h3>Configuration</h3>
	<iframe src="config.html" style="border:none;" width="100%%" height="100%%"></iframe>
</div>

<div id="Control" class="tabcontent">
	<h3>Control</h3>
	<iframe src="control.html" style="border:none;" width="100%%" height="100%%"></iframe>
</div>

<div id="Update" class="tabcontent">
	<h3>Update</h3>
	<iframe src="update.html" style="border:none;" width="100%%" height="100%%"></iframe>
</div>
<div id="Telemetry" class="tabcontent">
	<h3>Telemetry</h3>
	<button onclick="javascript:window.open('/download','_self');">Telemetry</button>
</div>
<div id="About" class="tabcontent">
	<h3>About</h3>
   %VERSION_NAME%<br>
   Copyright &copy; 2019 by Hansi Reiser, DL9RDZ<br>
   (version %VERSION_ID%)<br>
   with mods by <a href="https://www.dl2mf.de/" target="_blank">Meinhard Guenther, DL2MF</a><br>
   <br>
   Autodetect info: %AUTODETECT_INFO%<br>
   <br>
    CopyLeft 2021 Modifier par <a href="http://openpmr.cla.fr">FRS2013</a> & Vigor<br>
    Licence GNU GPL <a href="https://www.gnu.org/licenses/gpl-2.0.txt">https://www.gnu.org/licenses/gpl-2.0.txt</a>
    for details
</div>

<div style="background-color: #008CBA;"><br>
<h2>by FRS2013</h2>
</div>
<script>
function selTab(evt, id) {
	var i, tabcontent, tablinks;
	tabcontent=document.getElementsByClassName("tabcontent");
	for(i=0; i<tabcontent.length; i++) {
		tabcontent[i].style.display = "none";
		var link = tabcontent[i].dataset.src;
		if(link) {
			var iframe = tabcontent[i].getElementsByTagName("iframe")[0];
			iframe.setAttribute("src", "");
		}
	}
	tablinks=document.getElementsByClassName("tablinks");
	for(i=0; i<tablinks.length; i++) {
		tablinks[i].className = tablinks[i].className.replace(" active", "");
	}	
	var act = document.getElementById(id);
	act.style.display = "block";
	evt.currentTarget.className += " active";
	
	var link = act.dataset.src;
	if(link) {
		var iframe = act.getElementsByTagName("iframe")[0];
		iframe.setAttribute("src", link);
	}
}
document.getElementById("defaultTab").click();
</script>
<!-- Script for Sidebar, Tabs, Accordions, Progress bars and slideshows -->
<script>
// Side navigation
function w3_open() {
  var x = document.getElementById("mySidebar");
  x.style.width = "100%";
  x.style.height = "80%";
  x.style.fontSize = "40px";
  x.style.paddingTop = "0%";
  x.style.display = "block";
}
function w3_close() {
  document.getElementById("mySidebar").style.display = "none";
}

// Tabs
function openCity(evt, cityName) {
  var i;
  var x = document.getElementsByClassName("city");
  for (i = 0; i < x.length; i++) {
    x[i].style.display = "none";
  }
  var activebtn = document.getElementsByClassName("testbtn");
  for (i = 0; i < x.length; i++) {
    activebtn[i].className = activebtn[i].className.replace(" w3-dark-grey", "");
  }
  document.getElementById(cityName).style.display = "block";
  evt.currentTarget.className += " w3-dark-grey";
}

var mybtn = document.getElementsByClassName("testbtn")[0];
mybtn.click();

// Accordions
function myAccFunc(id) {
  var x = document.getElementById(id);
  if (x.className.indexOf("w3-show") == -1) {
    x.className += " w3-show";
  } else { 
    x.className = x.className.replace(" w3-show", "");
  }
}

// Slideshows
var slideIndex = 1;

function plusDivs(n) {
  slideIndex = slideIndex + n;
  showDivs(slideIndex);
}

function showDivs(n) {
  var x = document.getElementsByClassName("mySlides");
  if (n > x.length) {slideIndex = 1}    
  if (n < 1) {slideIndex = x.length} ;
  for (i = 0; i < x.length; i++) {
    x[i].style.display = "none";  
  }
  x[slideIndex-1].style.display = "block";  
}

showDivs(1);
</script>
</body>
</html>

